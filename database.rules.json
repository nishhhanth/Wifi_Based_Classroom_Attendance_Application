{
  "rules": {

    "Students": {
      "$studentId": {
        ".read": "auth != null && data.child('student_email').val() == auth.token.email",
        ".write": false
      },

      ".read": "auth != null && root.child('Faculty').orderByChild('faculty_email').equalTo(auth.token.email).exists()"
    },
    
    "Faculty": {
      "$facultyId": {
        ".read": "auth != null && data.child('faculty_email').val() == auth.token.email",
        ".write": false
      }
    },
    

    "AttendanceReport": {
      "$sessionId": {
        ".read": "auth != null && (root.child('Faculty').orderByChild('faculty_email').equalTo(auth.token.email).exists() || data.child('Students').child('STUDENT001').exists() || data.child('Students').child('STUDENT002').exists() || data.child('Students').child('STUDENT003').exists())",
        ".write": "auth != null && root.child('Faculty').orderByChild('faculty_email').equalTo(auth.token.email).exists()"
      }
    },
    
    ".read": false,
    ".write": false
  }
}
